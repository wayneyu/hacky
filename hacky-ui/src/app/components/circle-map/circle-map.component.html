<div style="padding-left: 40px; padding-right: 40px;">

<mat-toolbar color="primary">
        <span>Gross Value by City</span>
</mat-toolbar>
<mat-card class="item-card">
        <mat-card-header>
        </mat-card-header>
        <mat-card-content>
                <agm-map [longitude]=-92.380900 [latitude]=50.247700  [zoom]=4>

                        <agm-circle *ngFor="let data of fundCityList"
                                [latitude]="data.lat"
                                [longitude]="data.lon"
                                [radius]='data.total | scaleFactor:0.0001'
                                [fillColor]="data.total | circleColor: 'green':'red'"
                        ></agm-circle>
                        <agm-marker *ngFor="let data of fundCityList"
                                [latitude]="data.lat"
                                [longitude]="data.lon"
                                [label]='data.total | currency: "CAD$"'>

                                <agm-snazzy-info-window [maxWidth]="500" [closeWhenOthersOpen]="true">
                                        <ng-template>
                                                <h2>{{data.city}}, {{data.state}}</h2>
                                                <table>
                                                        <tr *ngFor="let item of data.fundname; let i = index" [attr.data-index]="i" >     
                                                                   <td>{{item}}</td>
                                                                   <td>{{data.netAmount[i] | currency: 'CAD$'}}</td>
                                                        </tr>
                                                        <tr>
                                                                <td>Total</td>
                                                                <td>{{data.total | currency: 'CAD$'}}</td>
                                                        </tr>
                                                </table>
                                        </ng-template>
                                      </agm-snazzy-info-window>

                        </agm-marker>              
                </agm-map>
        </mat-card-content>
      </mat-card>
</div>
